 // ----------------------------------------------------------------------------
 // Vegas - Fullscreen Backgrounds and Slideshows with jQuery.
 // v1.3.4 - released 2013-12-26 17:34
 // Licensed under the MIT license.
 // http://vegas.jaysalvat.com/
 // ----------------------------------------------------------------------------
 // Copyright (C) 2010-2013 Jay Salvat
 // http://jaysalvat.com/
 // ----------------------------------------------------------------------------

(function(e){function t(a,n){var o={align:"center",valign:"center"};if(e.extend(o,n),0===a.height())return a.load(function(){t(e(this),n)}),void 0;var r,s,g,d=i(n),l=d.width,c=d.height,u=a.width(),v=a.height(),p=c/l,f=v/u;p>f?(r=c/f,s=c):(r=l,s=l*f),g={width:r+"px",height:s+"px",top:"auto",bottom:"auto",left:"auto",right:"auto"},isNaN(parseInt(o.valign,10))?"top"==o.valign?g.top=0:"bottom"==o.valign?g.bottom=0:g.top=(c-s)/2:g.top=0-(s-c)/100*parseInt(o.valign,10)+"px",isNaN(parseInt(o.align,10))?"left"==o.align?g.left=0:"right"==o.align?g.right=0:g.left=(l-r)/2:g.left=0-(r-l)/100*parseInt(o.align,10)+"px",a.css(g)}function a(){d.prependTo("body").fadeIn()}function n(){d.fadeOut("fast",function(){e(this).remove()})}function o(){return e("body").css("backgroundImage")?e("body").css("backgroundImage").replace(/url\("?(.*?)"?\)/i,"$1"):void 0}function i(e){if(e.container[0]!==document.body)return{width:e.container.width(),height:e.container.height()};var t=window,a="inner";return"innerWidth"in window||(t=document.documentElement||document.body,a="client"),{width:t[a+"Width"],height:t[a+"Height"]}}var r,s=e("<img />").addClass("vegas-background"),g=e("<div />").addClass("vegas-overlay"),d=e("<div />").addClass("vegas-loading"),l=e(),c=null,u=[],v=0,p=5e3,f=function(){},h={init:function(i){var r={container:"body",src:o(),align:"center",valign:"center",fade:0,loading:!0,load:function(){},complete:function(){}};e.extend(r,e.vegas.defaults.background,i),e.vegas.defaults.init||(e.vegas.defaults.init=i),"body"!==r.container?(r.container=e("#"+r.container),0===r.container.length&&(r.container=e("body"))):r.container=e("body"),r.loading&&a();var g=s.clone();return g.css({position:r.container[0]===document.body?"fixed":"absolute",left:"0px",top:"0px"}).bind("load",function(){g!=l&&(e(window).bind("load resize.vegas",function(){t(g,r)}),l.is("img")?(l.stop(),g.hide().insertAfter(l).fadeIn(r.fade,function(){e(".vegas-background").not(this).remove(),e("body").trigger("vegascomplete",[this,v-1]),r.complete.apply(g,[v-1])})):g.hide().prependTo(r.container[0]).fadeIn(r.fade,function(){e("body").trigger("vegascomplete",[this,v-1]),r.complete.apply(this,[v-1])}),l=g,t(l,r),r.loading&&n(),e("body").trigger("vegasload",[l.get(0),v-1]),r.load.apply(l.get(0),[v-1]),v&&(e("body").trigger("vegaswalk",[l.get(0),v-1]),r.walk.apply(l.get(0),[v-1])))}).attr("src",r.src),e.vegas},destroy:function(t){return t&&"background"!=t||(e(".vegas-background, .vegas-loading").remove(),e(window).unbind("*.vegas"),l=e()),t&&"overlay"!=t||e(".vegas-overlay").remove(),clearInterval(r),e.vegas},overlay:function(t){var a={src:null,opacity:null};return e.extend(a,e.vegas.defaults.overlay,t),g.remove(),g.css({margin:"0",padding:"0",position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),a.src===!1&&g.css("backgroundImage","none"),a.src&&g.css("backgroundImage","url("+a.src+")"),a.opacity&&g.css("opacity",a.opacity),g.prependTo("body"),e.vegas},slideshow:function(t,a){var n={step:v,delay:p,preload:!1,loading:!0,backgrounds:u,walk:f,align:"center",valign:"center"};if(e.extend(n,e.vegas.defaults.slideshow,t),n.backgrounds!=u&&(t.step||(n.step=0),t.walk||(n.walk=function(){}),n.preload&&e.vegas("preload",n.backgrounds)),u=n.backgrounds,p=n.delay,v=n.step,f=n.walk,clearInterval(r),!u.length)return e.vegas;var o=function(){0>v&&(v=u.length-1),(v>=u.length||!u[v-1])&&(v=0);var t=u[v++];t.walk=n.walk,t.loading=n.loading,t.container=n.container,t.valign=n.valign,t.align=n.align,t.fade===void 0&&(t.fade=n.fade),t.fade>n.delay&&(t.fade=n.delay),e.vegas(t)};return o(),a||(c=!1,e("body").trigger("vegasstart",[l.get(0),v-1])),c||(r=setInterval(o,n.delay)),e.vegas},next:function(){var t=v;return v&&(e.vegas("slideshow",{step:v},!0),e("body").trigger("vegasnext",[l.get(0),v-1,t-1])),e.vegas},previous:function(){var t=v;return v&&(e.vegas.defaults.init.step=v-2,e.vegas("slideshow",e.vegas.defaults.init,!0),e("body").trigger("vegasprevious",[l.get(0),v-1,t-1])),e.vegas},jump:function(t){var a=v;return v&&(e.vegas.defaults.init.step=t,e.vegas("slideshow",e.vegas.defaults.init,!0),e("body").trigger("vegasjump",[l.get(0),v-1,a-1])),e.vegas},stop:function(){var t=v;return v=0,c=null,clearInterval(r),e("body").trigger("vegasstop",[l.get(0),t-1]),e.vegas},pause:function(){return c=!0,clearInterval(r),e("body").trigger("vegaspause",[l.get(0),v-1]),e.vegas},get:function(e){return null===e||"background"==e?l.get(0):"overlay"==e?g.get(0):"step"==e?v-1:"paused"==e?c:void 0},preload:function(t){var a=[];for(var n in t)if(t[n].src){var o=document.createElement("img");o.src=t[n].src,a.push(o)}return e.vegas}};e.vegas=function(t){return h[t]?h[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(e.error("Method "+t+" does not exist"),void 0):h.init.apply(this,arguments)},e.vegas.defaults={background:{},slideshow:{},overlay:{}}})(jQuery);